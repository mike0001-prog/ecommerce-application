{% extends "storefront/index.html" %}
{% block breadcrumbs %}
<a href="{% url 'storefront_home' %}" class="nav-links">Home</a>
<span style="font-weight: bold;"> | </span> 

<span style="color: cyan;">Payment</span>
{% endblock breadcrumbs %}
{% block body %}
<div class="d-flex align-items-center justify-content-center">
<div>
    <!-- <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z" />
</svg> -->
<div>
 
</div>
<button class="text-capitalize btn-neon" onclick="makePayment()" >
Pay Now with paystack  
<svg width="30px" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z" />
</svg>

</button>
</div>

</div>
  <script src="https://js.paystack.co/v1/inline.js"></script>
  <script>
    function makePayment() {
        
         let handler = PaystackPop.setup({
        key: "pk_test_a30f4ef9ded4d934bded1c45e60d9074e3ceb2f9",
        email: "kehindeoyeniyi08@gmail.com",  // can be a test email
        amount: 2000 * 100,         // amount in kobo
        currency: "NGN",

        callback: function(response){
            // redirect to verification endpoint
            window.location.href = "/verify/?reference=" + response.reference;
            console.log("payment made")
        },

        onClose: function(){
            alert("Payment window closed");
        }
    });
    handler.openIframe();
    }
    
    
  </script>
{% endblock %}